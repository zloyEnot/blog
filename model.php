<?php//// Список всех статей//function articles_all(){	// Запрос.	$query = "SELECT * FROM articles ORDER BY id_articles DESC";	$result = mysql_query($query);								if (!$result)		die(mysql_error());		// Извлечение из БД.	$n = mysql_num_rows($result);	$articles = array();	for ($i = 0; $i < $n; $i++)	{		$row = mysql_fetch_assoc($result);				$articles[] = $row;	}		return $articles;}//// Конкретная статья//function articles_get($id_articles){	// Запрос.	$t = "SELECT * FROM articles WHERE id_articles = %d";		$query = sprintf($t, $id_articles);	$result = mysql_query($query);								if (!$result)		die(mysql_error());			// Извлечение из БД.    if (mysql_num_rows($result) == 0) {        return false;    } else {        return mysql_fetch_assoc($result);    }}//// Добавить статью//function articles_new($title, $content){	// Подготовка.	$title = trim($title);	$content = trim($content);	// Проверка.	if ($title == '')		return false;		// Запрос.	$t = "INSERT INTO articles (title, content) VALUES ('%s', '%s')";		$query = sprintf($t, 	                 mysql_real_escape_string($title),	                 mysql_real_escape_string($content));		$result = mysql_query($query);								if (!$result)		die(mysql_error());			return true;}//// Изменить статью//function articles_edit($id_articles, $title, $content){	// Подготовка.    $title = trim($title);    $content = trim($content);    // Проверка.    if ($title == '')        return false;    //Запрос    $t = "UPDATE articles SET title = '%s', content = '%s' WHERE id_articles = %d";    $query = sprintf($t,	                 mysql_real_escape_string($title),	                 mysql_real_escape_string($content),	                 $id_articles);		$result = mysql_query($query);								if (!$result)		die(mysql_error());	if (mysql_affected_rows() == 0) {        return false;    } else {        return true;    }}//// Удалить статью//function articles_delete($id_articles){	    // Запрос.    $t = "DELETE FROM articles WHERE id_articles = %d";    $query = sprintf($t, $id_articles);    $result = mysql_query($query);    if (!$result)        die(mysql_error());    // Извлечение из БД.    if (mysql_affected_rows() == 0) {        return false;    } else {        return true;    }}//// Короткое описание статьи//function articles_intro(){	// $article - это ассоциативный массив, представляющий статью	/*// $article - это ассоциативный массив, представляющий статью*/    $query = "SELECT * FROM articles ORDER BY id_articles DESC";    $result = mysql_query($query);    if (!$result)        die(mysql_error());    // Извлечение из БД.    $n = mysql_num_rows($result);    $articles = [];    if ($n == 0) {        return false;    } else {        for ($i = 0; $i < $n; $i++) {            $row = mysql_fetch_assoc($result);            $row['content'] = (strlen($row['content']) > 80) ? substr($row['content'], 0, 80) . '...' : $row['content'];            $articles[] = $row;        }        return $articles;    }}